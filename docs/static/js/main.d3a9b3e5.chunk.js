(this["webpackJsonptinote-web"]=this["webpackJsonptinote-web"]||[]).push([[0],{107:function(e,t,n){e.exports={Menu:"Menu_Menu__2U4Vu"}},108:function(e,t,n){e.exports=n.p+"static/media/profile-img.01327c90.png"},109:function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__3iEQ1"}},110:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__NhvU6"}},111:function(e,t,n){e.exports={NoteItems:"NoteItems_NoteItems__28LUH"}},113:function(e,t,n){e.exports={FolderItems:"FolderItems_FolderItems__2jToC"}},114:function(e,t,n){e.exports={Explorer:"Explorer_Explorer__3y22j"}},117:function(e,t,n){e.exports={loader:"Spinner_loader__2KmVm",load1:"Spinner_load1__30IQu"}},120:function(e,t,n){e.exports=n(316)},125:function(e,t,n){},21:function(e,t,n){e.exports={ContextMenu:"ContextMenu_ContextMenu__1m4Th",Hide:"ContextMenu_Hide__mJh99",ContextMenuItems:"ContextMenu_ContextMenuItems__2cM-Z",TableMenu:"ContextMenu_TableMenu__3rUfS",ContextMenuItem:"ContextMenu_ContextMenuItem__BaZiy"}},23:function(e,t,n){e.exports={NoteItem:"NoteItem_NoteItem__1I4-F",Active:"NoteItem_Active__We-oo",Title:"NoteItem_Title__2SM69",Content:"NoteItem_Content__259o2",Date:"NoteItem_Date__3WwS8"}},30:function(e,t,n){e.exports={FolderItem:"FolderItem_FolderItem__5rgJ9",Active:"FolderItem_Active__18g6D",Icon:"FolderItem_Icon__1gRlN",Name:"FolderItem_Name__2T2tw"}},31:function(e,t,n){e.exports={Input:"Input_Input__2nBj8",InputElement:"Input_InputElement__10NDC",Invalid:"Input_Invalid__3QHhq",Error:"Input_Error__3bIX4"}},316:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(28),c=n.n(a),i=(n(125),n(9)),l=n(10),u=n(15),s=n(14),d=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{style:{height:"100%"}},this.props.children))}}]),n}(o.Component),f=n(3),p=n(46),m=n.n(p),_=n(119),h=n(107),E=n.n(h),b=n(47),T=n.n(b),g=n(108),v=n.n(g),C=function(e){return r.a.createElement("div",{className:T.a.Profile},r.a.createElement("img",{className:T.a.Img,src:v.a,alt:"Profile"}),r.a.createElement("p",{className:T.a.ProfileName},e.profileName))},N=n(65),k=n.n(N),O=function(e){var t=[k.a.ToolbarButton];return e.active&&t.push(k.a.Active),r.a.createElement("div",{onClick:e.clicked,className:t},r.a.createElement("span",{className:"material-icons"},e.btnType))},S=n(109),A=n.n(S),y=function(e){return r.a.createElement("div",{className:A.a.DrawerToggle,onClick:e.clicked},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},I=n(48),w=n.n(I),F=function(e){return r.a.createElement("div",{className:w.a.Toolbar},r.a.createElement(y,{clicked:e.burgerClicked}),r.a.createElement("input",{className:w.a.Search,type:"search",placeholder:"Search"}),r.a.createElement("div",{className:w.a.Button},r.a.createElement(O,{clicked:e.buttonClicked,active:!1,btnType:e.btnType})))},D=n(49),x=n.n(D),H=n(110),R=n.n(H),j=function(e){var t=null;return e.open&&(t=r.a.createElement("div",{className:R.a.Backdrop,onClick:e.clicked})),t},L=function(e){var t=[x.a.SideDrawer];return e.open?t.push(x.a.Open):t.push(x.a.Close),r.a.createElement("div",null,r.a.createElement(j,{open:e.open,clicked:e.close}),r.a.createElement("div",{className:t.join(" ")},e.children))},M=function(e){var t=r.a.useState(!1),n=Object(_.a)(t,2),o=n[0],a=n[1];return r.a.createElement("div",{className:E.a.Menu},r.a.createElement(L,{open:o,close:function(){return a(!1)}},r.a.createElement("p",{onClick:e.logout},"Logout")),r.a.createElement(C,{profileName:"Name"}),r.a.createElement(F,{burgerClicked:function(){return a(!o)},btnType:e.toolbarBtnType,buttonClicked:e.toolbarButtonClicked}))},U=n(23),P=n.n(U),B=function(e){var t=[P.a.NoteItem];return e.active&&t.push(P.a.Active),r.a.createElement("li",{onContextMenu:e.leftClicked,onClickCapture:e.clicked,className:t.join(" ")},r.a.createElement("p",Object.assign({},e.options,{contentEditable:e.rename,className:P.a.Title}),e.title),r.a.createElement("p",{className:P.a.Content},e.content),r.a.createElement("p",{className:P.a.Date},e.date))},V=n(111),W=n.n(V),G=function(e,t){return Object(f.a)(Object(f.a)({},e),t)};function Q(e,t){var n,o=this;return function(){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];var i=function(){clearTimeout(n),e.apply(o,a)};clearTimeout(n),n=setTimeout(i,t)}}function X(e,t){if(e===t)return{isDiffer:!1,updated:[],deleted:[]};var n=e.filter((function(e){return!t.some((function(t){return e.id===t.id}))})),o=t.filter((function(t){return!e.includes(t)}));return{isDiffer:o.length||n.length,updated:o,deleted:n}}function J(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}var q=n(112),z=n.n(q),Z=function(e){var t={},n=e.notes.map((function(n){return t={},r.a.createElement(B,{leftClicked:function(t){return e.showContext(t,"note",n.id)},active:n.id===e.current,options:t,key:n.id,clicked:function(){return e.select(n.id)},title:n.title,content:J(n.content.slice(0,50)),date:z()(n.date).fromNow()})}));return r.a.createElement("ul",{className:W.a.NoteItems},n)},K=n(113),Y=n.n(K),$=n(30),ee=n.n($),te=function(e){var t=[ee.a.FolderItem];return e.active&&t.push(ee.a.Active),r.a.createElement("li",{onContextMenu:e.leftClicked,onClickCapture:e.clicked,className:t.join(" "),style:{color:e.color}},r.a.createElement("span",{className:"material-icons "+ee.a.Icon},e.icon),r.a.createElement("p",{className:ee.a.Name},e.name))},ne={name:"New Folder",color:"#ccc",icon:"folder"},oe={content:"",date:"Not provided",title:"New Note"},re=[{name:"Rename",action:"Rename"},{name:"Delete",action:"Delete"},{isTable:!0,name:"Colors",buttons:[{backgroundColor:"#1abc9c",action:{backgroundColor:"#1abc9c"}},{backgroundColor:"#2ecc71",action:{backgroundColor:"#2ecc71"}},{backgroundColor:"#3498db",action:{backgroundColor:"#3498db"}},{backgroundColor:"#9b59b6",action:{backgroundColor:"#9b59b6"}},{backgroundColor:"#34495e",action:{backgroundColor:"#34495e"}},{backgroundColor:"#16a085",action:{backgroundColor:"#16a085"}},{backgroundColor:"#27ae60",action:{backgroundColor:"#27ae60"}},{backgroundColor:"#2980b9",action:{backgroundColor:"#2980b9"}},{backgroundColor:"#8e44ad",action:{backgroundColor:"#8e44ad"}},{backgroundColor:"#2c3e50",action:{backgroundColor:"#2c3e50"}},{backgroundColor:"#f1c40f",action:{backgroundColor:"#f1c40f"}},{backgroundColor:"#e67e22",action:{backgroundColor:"#e67e22"}},{backgroundColor:"#e74c3c",action:{backgroundColor:"#e74c3c"}},{backgroundColor:"#ecf0f1",action:{backgroundColor:"#ecf0f1"}},{backgroundColor:"#95a5a6",action:{backgroundColor:"#95a5a6"}},{backgroundColor:"#f39c12",action:{backgroundColor:"#f39c12"}},{backgroundColor:"#d35400",action:{backgroundColor:"#d35400"}},{backgroundColor:"#c0392b",action:{backgroundColor:"#c0392b"}},{backgroundColor:"#bdc3c7",action:{backgroundColor:"#bdc3c7"}},{backgroundColor:"#7f8c8d",action:{backgroundColor:"#7f8c8d"}}]},{isTable:!0,name:"Icon",buttons:[{icon:"outlet",action:{icon:"outlet"}},{icon:"accessibility",action:{icon:"accessibility"}},{icon:"accessible",action:{icon:"accessible"}},{icon:"alarm_on",action:{icon:"alarm_on"}},{icon:"assignment",action:{icon:"assignment"}},{icon:"face",action:{icon:"face"}},{icon:"get_app",action:{icon:"get_app"}},{icon:"schedule",action:{icon:"schedule"}},{icon:"shopping_cart",action:{icon:"shopping_cart"}},{icon:"thumb_up",action:{icon:"thumb_up"}},{icon:"thumb_down",action:{icon:"thumb_down"}},{icon:"rss_feed",action:{icon:"thumb_down"}},{icon:"visibility",action:{icon:"visibility"}},{icon:"error",action:{icon:"error"}},{icon:"call",action:{icon:"call"}},{icon:"clear",action:{icon:"clear"}},{icon:"mail",action:{icon:"mail"}},{icon:"weekend",action:{icon:"weekend"}},{icon:"attach_money",action:{icon:"attach_money"}},{icon:"tag_faces",action:{icon:"tag_faces"}}]}],ae=[{name:"Rename",action:"Rename"},{name:"Delete",action:"Delete"}],ce=[{name:"Clear",action:"Clear"}],ie=function(e){var t=e.folders.map((function(t){return r.a.createElement(te,{leftClicked:function(n){return e.showContext(n,"folder",t.id)},active:t.id===e.current,clicked:function(){return e.select(t.id)},key:t.id,icon:t.icon,color:t.color,name:t.name})}));return r.a.createElement("ul",{className:Y.a.FolderItems},r.a.createElement(te,{active:"UNSORTED"===e.current,clicked:function(){return e.select("UNSORTED")},key:"UNSORTED",icon:"topic",color:"#ccc",name:"Unsorted"}),r.a.createElement(te,{active:"ALL_NOTES"===e.current,clicked:function(){return e.select("ALL_NOTES")},key:"ALL_NOTES",icon:"rule_folder",color:"#ccc",name:"All"}),t,r.a.createElement(te,{active:!1,clicked:function(){return e.addFolder({})},key:"__ADD_FOLDER",icon:"create_new_folder",color:"#ccc",name:"Add folder"}),r.a.createElement(te,{leftClicked:function(t){return e.showContext(t,"folder","TRASH")},active:"TRASH"===e.current,clicked:function(){return e.select("TRASH")},key:"TRASH",icon:"delete",color:"#ccc",name:"Trash"}))},le=n(114),ue=n.n(le),se=n(13),de=n(67);n(130),n(132);de.initializeApp({apiKey:"AIzaSyDvc6lij9iMoZ8tDBfLghISPKJtqx_L54U",authDomain:"tinote-5fd77.firebaseapp.com",databaseURL:"https://tinote-5fd77.firebaseio.com",projectId:"tinote-5fd77",storageBucket:"tinote-5fd77.appspot.com",messagingSenderId:"207256672485",appId:"1:207256672485:web:94c7f77f99e19706da9c0c"});var fe=de,pe=new(function(){function e(){Object(i.a)(this,e),this.notes=[],this.folders=[],this.db=fe.firestore()}return Object(l.a)(e,[{key:"init",value:function(){}},{key:"getId",value:function(e){return this.db.collection(e).doc().id}},{key:"save",value:function(e){var t,n,o=this,r=e.notes,a=e.folders;return t=X(this.notes,r||this.notes),n=X(this.folders,a||this.folders),t.isDiffer||n.isDiffer?new Promise((function(e,c){var i=o.db.batch();n.deleted.forEach((function(e){var t=o.db.collection("folders").doc(e.id);i.delete(t)})),t.deleted.forEach((function(e){var t=o.db.collection("notes").doc(e.id);i.delete(t)})),n.updated.forEach((function(e){var t=o.db.collection("folders").doc(e.id);i.set(t,{name:e.name,color:e.color,icon:e.icon})})),t.updated.forEach((function(e){var t=o.db.collection("notes").doc(e.id);i.set(t,{title:e.title,content:e.content,folder:e.folder,date:e.date})})),i.commit().then((function(t){r&&(o.notes=r),a&&(o.folders=a),e(t)})).catch((function(e){c(e)}))})):new Promise((function(e){return e(!0)}))}},{key:"get",value:function(e){var t=this;return new Promise((function(n,o){t.db.collection(e).get().then((function(o){var r=[];o.forEach((function(e){r.push(Object(f.a)(Object(f.a)({},e.data()),{},{id:e.id}))})),"folders"===e&&(t.folders=r),"notes"===e&&(t.notes=r),n(r)})).catch((function(e){o(e)}))}))}}]),e}()),me=function(e){return{type:"SELECT_NOTE",id:e}},_e=fe.auth(),he=function(e){return{type:"AUTH_FAIL",error:e}},Ee=n(21),be=n.n(Ee),Te=function(e){var t=e.options.map((function(t,n){return t.isTable?r.a.createElement("li",{key:n,className:be.a.ContextMenuItem},t.name,function(e,t){var n=e.map((function(e,n){return r.a.createElement("li",{onClick:function(){return t(e.action)},key:n,style:{backgroundColor:e.backgroundColor,color:e.color}},e.icon&&r.a.createElement("span",{className:"material-icons"},e.icon))}));return r.a.createElement("ul",{className:be.a.TableMenu},n)}(t.buttons,e.optionHandler)):r.a.createElement("li",{onClick:function(){return e.optionHandler(t.action)},key:n,className:be.a.ContextMenuItem},t.name)})),n=[be.a.ContextMenu];return e.show?document.addEventListener("click",(function(){e.closed()})):n.push(be.a.Hide),r.a.createElement("div",{className:n.join(" "),style:{top:e.y,left:e.x}},r.a.createElement("ul",{className:be.a.ContextMenuItems},t))},ge=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={renameFolderId:null,renameNoteId:null,contextMenu:{x:-100,y:-100,show:!1,elemType:null,id:null}},e.updateFolders=function(){e.props.updateFolders(e.props.folders)},e.updateNotes=function(){e.props.updateNotes(e.props.notes)},e.contextMenuShowHandler=function(t,n,o){t.preventDefault();var r=t.pageX,a=t.pageY;e.setState({contextMenu:{x:r,y:a,show:!0,elemType:n,id:o}})},e.contextMenuHideHandler=function(){e.setState({contextMenu:{x:-100,y:-100,show:!1}})},e.contextMenuOptionHandler=function(t){e.contextMenuHideHandler();var n=e.state.contextMenu.elemType,o=e.state.contextMenu.id;switch(t){case"Delete":"folder"===n?e.props.removeFolder(o):"note"===n&&e.props.moveNoteToTrash(o);break;case"Rename":"folder"===n?e.setState({renameFolderId:o}):"note"===n&&e.setState({renameNoteId:o});break;case"Clear":if("folder"===n)e.props.onClearNotesInTrash();else if("note"===n)throw new Error("Trying clear trash when contextMenu.elemType === note");break;default:"backgroundColor"===Object.keys(t)[0]?e.props.onChangeFolderColor(o,t.backgroundColor):"icon"===Object.keys(t)[0]&&e.props.onChangeFolderIcon(o,t.icon)}},e.renameFolderHandler=function(t){("blur"===t.type||"keypress"===t.type&&"Enter"===t.key)&&(e.props.renameFolder(e.state.renameFolderId,t.currentTarget.textContent),e.setState({renameFolderId:null}))},e.renameNoteHandler=function(t){("blur"===t.type||"keypress"===t.type&&"Enter"===t.key)&&(e.props.renameFolder(e.state.renameNoteId,t.currentTarget.textContent),e.setState({renameNoteId:null}))},e.selectNoteHandler=function(t){e.props.selectNote(t)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchFolders(),this.props.fetchNotes(),this.updateFolders=Q(this.updateFolders,2e3),this.updateNotes=Q(this.updateNotes,5e3)}},{key:"componentDidUpdate",value:function(e){e.folders!==this.props.folders&&e.folders!==[]&&this.updateFolders(),e.notes!==this.props.notes&&e.notes!==[]&&this.updateNotes()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ue.a.Explorer},r.a.createElement(ie,{onRename:this.renameFolderHandler,renameFolderId:this.state.renameFolderId,showContext:this.contextMenuShowHandler,addFolder:function(){return e.props.addFolder(Object(f.a)({},ne))},current:this.props.currentFolder,select:this.props.selectFolder,folders:this.props.folders}),r.a.createElement(Z,{onRename:this.renameNoteHandler,renameNoteId:this.state.renameNoteId,showContext:this.contextMenuShowHandler,current:this.props.currentNote,select:this.props.selectNote,notes:"ALL_NOTES"===this.props.currentFolder?this.props.notes.filter((function(e){return"TRASH"!==e.folder})):this.props.notes.filter((function(t){return t.folder===e.props.currentFolder}))}),r.a.createElement(Te,{optionHandler:this.contextMenuOptionHandler,closed:this.contextMenuHideHandler,show:this.state.contextMenu.show,x:this.state.contextMenu.x,y:this.state.contextMenu.y,options:"folder"===this.state.contextMenu.elemType?"TRASH"===this.state.contextMenu.id?ce:re:ae}))}}]),n}(o.Component),ve=Object(se.b)((function(e){return{folders:e.folders.folders,currentFolder:e.folders.currentFolder,notes:e.notes.notes,currentNote:e.notes.currentNote}}),(function(e){return{selectFolder:function(t){return e(function(e){return{type:"SELECT_FOLDER",id:e}}(t))},addFolder:function(t){return e(function(e){return{type:"ADD_FOLDER",folder:Object(f.a)(Object(f.a)({},e),{},{id:pe.getId("folders")})}}(t))},renameFolder:function(t,n){return e(function(e,t){return{type:"RENAME_FOLDER",id:e,newName:t}}(t,n))},removeFolder:function(t){return e(function(e){return{type:"REMOVE_FOLDER",id:e}}(t))},fetchFolders:function(){return e((function(e){e({type:"FETCH_FOLDER_START"}),pe.get("folders").then((function(t){e({type:"FETCH_FOLDER_SUCCESS",folders:t})})).catch((function(t){e(function(e){return{type:"FETCH_FOLDER_FAIL",error:e}}(t))}))}))},updateFolders:function(t){return e(function(e){return function(t){t({type:"UPDATE_FOLDER_START"}),pe.save({folders:e}).then((function(e){t(function(e){return{type:"UPDATE_FOLDER_SUCCESS",folders:e}}(e))})).catch((function(e){t(function(e){return{type:"UPDATE_FOLDER_FAIL",error:e}}(e))}))}}(t))},onChangeFolderColor:function(t,n){return e(function(e,t){return{type:"CHANGE_FOLDER_COLOR",id:e,color:t}}(t,n))},onChangeFolderIcon:function(t,n){return e(function(e,t){return{type:"CHANGE_FOLDER_ICON",id:e,icon:t}}(t,n))},onClearNotesInTrash:function(){return e({type:"CLEAR_NOTES_IN_TRASH"})},selectNote:function(t){return e(me(t))},moveNoteToTrash:function(t){return e(function(e){return{type:"MOVE_TO_TRASH_NOTE",id:e}}(t))},renameNote:function(t,n){return e(function(e,t){return{type:"RENAME_NOTE",id:e,newName:t}}(t,n))},fetchNotes:function(){return e((function(e){e({type:"FETCH_NOTE_START"}),pe.get("notes").then((function(t){e({type:"FETCH_NOTE_SUCCESS",notes:t})})).catch((function(t){e(function(e){return{type:"FETCH_NOTE_FAIL",error:e}}(t))}))}))},updateNotes:function(t){return e(function(e){return function(t){t({type:"UPDATE_NOTE_START"}),pe.save({notes:e}).then((function(e){t(function(e){return{type:"UPDATE_NOTE_SUCCESS",notes:e}}(e))})).catch((function(e){t(function(e){return{type:"UPDATE_NOTE_FAIL",error:e}}(e))}))}}(t))}}}))(ge),Ce=n(50),Ne=n.n(Ce),ke=n(116),Oe=n.n(ke),Se=n(68),Ae=n.n(Se),ye=function(e){var t=e.buttons.map((function(t,n){return r.a.createElement(O,{key:n,active:t.active,btnType:t.icon,clicked:function(){t.active?e.toolbarBtnClicked(t.activeAction):e.toolbarBtnClicked(t.inactiveAction)}})}));return r.a.createElement("div",{className:Ae.a.NoteEditingToolbar},r.a.createElement("div",{className:Ae.a.ArrowBack,onClick:e.arrowClicked},r.a.createElement("span",{className:"material-icons"},"arrow_back_ios")),t)},Ie={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],["clean"]]},we=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image"],Fe=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={text:""},e.handleChange=function(t){e.props.currentNoteItem&&e.props.inputText(e.props.currentNoteItem.id,t)},e.arrowBackHancler=function(){e.props.selectNote(null)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=r.a.createElement(Oe.a,{modules:Ie,formats:we,readOnly:!this.props.currentNoteItem,value:this.props.currentNoteItem?this.props.currentNoteItem.content:"",className:Ne.a.Quill,placeholder:"Create note and start writing...",onChange:this.handleChange}),t=[Ne.a.NoteEditor];return this.props.isShow&&t.push(Ne.a.ShowEditor),r.a.createElement("div",{className:t.join(" ")},r.a.createElement(ye,{arrowClicked:this.arrowBackHancler,toolbarBtnClicked:function(){},buttons:[]}),e)}}]),n}(o.Component),De=Object(se.b)((function(e){return{currentNote:e.notes.currentNote,currentNoteItem:e.notes.notes.find((function(t){return t.id===e.notes.currentNote})),notes:e.notes.notes}}),(function(e){return{inputText:function(t,n){return e(function(e,t){return{type:"INPUT_TEXT",id:e,text:t}}(t,n))},selectNote:function(t){return e(me(t))}}}))(Fe),xe=n(5),He=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).toolbarNoteHandler=function(){e.props.isTrashOpen?e.props.onClearTrash():e.props.onAddNote(Object(f.a)(Object(f.a)({},oe),{},{date:Date.now(),folder:"ALL_NOTES"!==e.props.currentFolder?e.props.currentFolder:null}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=null;this.props.isAuth||(e=r.a.createElement(xe.a,{to:"/"}));var t=!1,n=[m.a.Wrapper];return this.props.currentNote&&(t=!0,n.push(m.a.ShowEditor)),r.a.createElement("div",{className:m.a.Tinote},e,r.a.createElement("div",{className:n.join(" ")},r.a.createElement(M,{logout:this.props.onLogout,toolbarBtnType:this.props.isTrashOpen?"delete":"note_add",toolbarButtonClicked:this.toolbarNoteHandler}),r.a.createElement(ve,null)),r.a.createElement(De,{isShow:t}))}}]),n}(o.Component),Re=Object(se.b)((function(e){return{isTrashOpen:"TRASH"===e.folders.currentFolder,currentFolder:e.folders.currentFolder,isAuth:e.auth.isAuth,currentNote:e.notes.currentNote}}),(function(e){return{onAddNote:function(t){return e(function(e){return{type:"ADD_NOTE",note:Object(f.a)(Object(f.a)({},e),{},{id:pe.getId("notes")})}}(t))},onLogout:function(){return e((function(e){e({type:"AUTH_START"}),_e.signOut().then((function(t){e({type:"AUTH_LOGOUT"})})).catch((function(t){console.log(t),e(he(t))}))}))},onClearTrash:function(){return e({type:"CLEAR_NOTES_IN_TRASH"})}}}))(He),je=n(31),Le=n.n(je),Me=function(e){var t=[Le.a.InputElement];return e.invalid&&t.push(Le.a.Invalid),r.a.createElement("div",{className:Le.a.Input},r.a.createElement("input",Object.assign({},e.elemConfig,{className:t.join(" "),type:e.type,value:e.value,onInput:e.onInput,placeholder:e.placeholder})),r.a.createElement("span",{className:Le.a.Error},e.error))},Ue=n(71),Pe=n.n(Ue),Be=function(e){var t=[Pe.a.Button];return t.push(Pe.a[e.btnTupe]),r.a.createElement("button",{type:e.type,className:t.join(" "),onClick:e.clicked,disabled:e.disabled},e.children)},Ve=n(73),We=n.n(Ve),Ge=n(72),Qe=n.n(Ge),Xe=n(117),Je=n.n(Xe),qe=function(e){return r.a.createElement("div",{className:Je.a.loader},"Loading...")},ze=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={isEmailInvalid:!1,isPasswordInvalid:!1,isSignin:!0,emailValue:"",passwordValue:""},e.emailInputHandler=function(t){We.a.isEmail(t.target.value)?e.state.isEmailInvalid&&e.setState({isEmailInvalid:!1,emailValue:t.target.value}):e.state.isEmailInvalid||e.setState({isEmailInvalid:!0,emailValue:t.target.value})},e.passwordInputHandler=function(t){We.a.isLength(t.target.value,{min:6,max:24})?e.setState({isPasswordInvalid:!1,passwordValue:t.target.value}):e.setState({isPasswordInvalid:!0,passwordValue:t.target.value})},e.sumbitHandler=function(t){t.preventDefault(),e.state.isEmailInvalid||e.state.isPasswordInvalid||(e.state.isSignin?e.props.onSignin(e.state.emailValue,e.state.passwordValue):e.props.onSignup(e.state.emailValue,e.state.passwordValue))},e.switchModeHandler=function(t){t.preventDefault(),e.setState((function(e){return{isSignin:!e.isSignin}}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onCheckAuthState()}},{key:"render",value:function(){var e=null;this.props.isAuth&&(e=r.a.createElement(xe.a,{to:"/tinote"}));var t=r.a.createElement(qe,null);return this.props.loading||(t=r.a.createElement("form",{onSubmit:this.sumbitHandler,className:Qe.a.Auth},r.a.createElement(Me,{placeholder:"Email",type:"text",onInput:this.emailInputHandler,invalid:this.state.isEmailInvalid,error:this.state.isEmailInvalid?"Invalid email":null}),r.a.createElement(Me,{placeholder:"Password",type:"password",onInput:this.passwordInputHandler,invalid:this.state.isPasswordInvalid,error:this.state.isPasswordInvalid?"Password must be min 6 characters":null}),r.a.createElement("div",{className:Qe.a.Buttons},r.a.createElement(Be,{type:"submit"},this.state.isSignin?"Signin":"Signup"),r.a.createElement(Be,{type:"button",clicked:this.switchModeHandler},"Switch to ",this.state.isSignin?"Signup":"Signin")))),r.a.createElement(r.a.Fragment,null,e,t)}}]),n}(r.a.Component),Ze=Object(se.b)((function(e){return{isAuth:e.auth.isAuth,loading:e.auth.loading}}),(function(e){return{onSignin:function(t,n){return e(function(e,t){return function(n){n({type:"AUTH_START"}),_e.signInWithEmailAndPassword(e,t).then((function(e){n({type:"AUTH_SUCCESS"})})).catch((function(e){console.log(e),n(he(e))}))}}(t,n))},onSignup:function(t,n){return e(function(e,t){return function(n){n({type:"AUTH_START"}),_e.createUserWithEmailAndPassword(e,t).then((function(e){n({type:"AUTH_SUCCESS"})})).catch((function(e){console.log(e),n(he(e))}))}}(t,n))},onCheckAuthState:function(){return e((function(e){e({type:"AUTH_START"}),_e.onAuthStateChanged((function(t){e(t?{type:"AUTH_SUCCESS"}:{type:"AUTH_LOGOUT"})}))}))}}}))(ze);var Ke=function(){return r.a.createElement(d,null,r.a.createElement(xe.d,null,r.a.createElement(xe.b,{path:"/tinote",component:Re}),r.a.createElement(xe.b,{path:"/",component:Ze})))},Ye=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $e(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var et=n(20),tt=n(118),nt={notes:[],currentNote:null,loading:!1,error:null},ot=function(e,t){return G(e,{currentNote:t.id})},rt=function(e,t){return G(e,{notes:e.notes.concat(t.note)})},at=function(e,t){return G(e,{notes:e.notes.map((function(e){return e.id===t.id?Object(f.a)(Object(f.a)({},e),{},{folder:"TRASH"}):e}))})},ct=function(e,t){return G(e,{notes:e.notes.map((function(e){return e.id===t.id?Object(f.a)(Object(f.a)({},e),{},{content:t.text}):e}))})},it=function(e,t){return G(e,{notes:e.notes.map((function(e){return e.id===t.id?Object(f.a)(Object(f.a)({},e),{},{title:t.newName}):e}))})},lt=function(e,t){return G(e,{loading:!0,error:null})},ut=function(e,t){return G(e,{currentNote:null,notes:t.notes,loading:!1,error:null})},st=function(e,t){return G(e,{loading:!1,error:t.error})},dt=function(e,t){return G(e,{loading:!0,error:null})},ft=function(e,t){return G(e,{loading:!1,error:null})},pt=function(e,t){return G(e,{loading:!1,error:t.error})},mt=function(e,t){return Object(f.a)(Object(f.a)({},e),{},{notes:e.notes.filter((function(e){return"TRASH"!==e.folder}))})},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_NOTE":return ot(e,t);case"ADD_NOTE":return rt(e,t);case"MOVE_TO_TRASH_NOTE":return at(e,t);case"INPUT_TEXT":return ct(e,t);case"RENAME_NOTE":return it(e,t);case"FETCH_NOTE_START":return lt(e);case"FETCH_NOTE_SUCCESS":return ut(e,t);case"FETCH_NOTE_FAIL":return st(e,t);case"UPDATE_NOTE_START":return dt(e);case"UPDATE_NOTE_SUCCESS":return ft(e);case"UPDATE_NOTE_FAIL":return pt(e,t);case"CLEAR_NOTES_IN_TRASH":return mt(e);default:return e}},ht={folders:[],currentFolder:"ALL_NOTES",loading:!1,error:null},Et=function(e,t){return G(e,{currentFolder:t.id})},bt=function(e,t){return G(e,{folders:e.folders.concat(t.folder)})},Tt=function(e,t){return G(e,{folders:e.folders.filter((function(e){return e.id!==t.id}))})},gt=function(e,t){return G(e,{folders:e.folders.map((function(e){return e.id===t.id?Object(f.a)(Object(f.a)({},e),{},{name:t.newName}):e}))})},vt=function(e,t){return G(e,{loading:!0,error:null})},Ct=function(e,t){return G(e,{folders:t.folders,loading:!1,error:null})},Nt=function(e,t){return G(e,{loading:!1,error:t.error})},kt=function(e,t){return G(e,{loading:!0,error:null})},Ot=function(e,t){return G(e,{loading:!1,error:null})},St=function(e,t){return G(e,{loading:!1,error:t.error})},At=function(e,t){return G(e,{folders:e.folders.map((function(e){return e.id===t.id?Object(f.a)(Object(f.a)({},e),{},{icon:t.icon}):e}))})},yt=function(e,t){return G(e,{folders:e.folders.map((function(e){return e.id===t.id?Object(f.a)(Object(f.a)({},e),{},{color:t.color}):e}))})},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_FOLDER":return Et(e,t);case"ADD_FOLDER":return bt(e,t);case"REMOVE_FOLDER":return Tt(e,t);case"RENAME_FOLDER":return gt(e,t);case"FETCH_FOLDER_START":return vt(e);case"FETCH_FOLDER_SUCCESS":return Ct(e,t);case"FETCH_FOLDER_FAIL":return Nt(e,t);case"UPDATE_FOLDER_START":return kt(e);case"UPDATE_FOLDER_SUCCESS":return Ot(e);case"UPDATE_FOLDER_FAIL":return St(e,t);case"CHANGE_FOLDER_ICON":return At(e,t);case"CHANGE_FOLDER_COLOR":return yt(e,t);default:return e}},wt=n(45),Ft={loading:!1,error:null,isAuth:!1},Dt=function(e,t){return G(e,{error:null,loading:!0})},xt=function(e,t){return G(e,{error:t.error,loading:!1,isAuth:!0})},Ht=function(e,t){return G(e,{error:t.error,loading:!1})},Rt=function(e,t){return G(e,{error:null,loading:!1,isAuth:!1})},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Dt(e);case"AUTH_SUCCESS":return xt(e,t);case"AUTH_FAIL":return Ht(e,t);case"AUTH_LOGOUT":return Rt(e);default:return e}},Lt=(n(315),Object(et.c)({notes:_t,folders:It,auth:jt})),Mt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||et.d,Ut=Object(et.e)(Lt,Mt(Object(et.a)(tt.a)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se.a,{store:Ut},r.a.createElement(wt.a,null,r.a.createElement(Ke,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Ye?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$e(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):$e(t,e)}))}}()},46:function(e,t,n){e.exports={Tinote:"Tinote_Tinote__zR4LF",Wrapper:"Tinote_Wrapper__2uM3T",ShowEditor:"Tinote_ShowEditor__1UYHh"}},47:function(e,t,n){e.exports={Profile:"Profile_Profile__27aSU",Img:"Profile_Img__1uK1f",ProfileName:"Profile_ProfileName__1r2QR"}},48:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__-usOs",Search:"Toolbar_Search__N9e9d",Button:"Toolbar_Button__2GQQB"}},49:function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__2J4x8",Open:"SideDrawer_Open__2kDGZ",Close:"SideDrawer_Close__3IzkX"}},50:function(e,t,n){e.exports={NoteEditor:"NoteEditor_NoteEditor__32Jd1",Quill:"NoteEditor_Quill__2sfGQ",ShowEditor:"NoteEditor_ShowEditor__20fAX"}},65:function(e,t,n){e.exports={ToolbarButton:"ToolbarButton_ToolbarButton__1h2sg",Active:"ToolbarButton_Active__3gHIp"}},68:function(e,t,n){e.exports={NoteEditingToolbar:"NoteEditingToolbar_NoteEditingToolbar__1mAYl",ArrowBack:"NoteEditingToolbar_ArrowBack__hEszf"}},71:function(e,t,n){e.exports={Button:"Button_Button__1bqV7"}},72:function(e,t,n){e.exports={Auth:"Auth_Auth__ZsR1l",Buttons:"Auth_Buttons__2mV6p"}}},[[120,1,2]]]);
//# sourceMappingURL=main.d3a9b3e5.chunk.js.map